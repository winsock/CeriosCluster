<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>MySQL++ Reference Manual</title>
	<meta http-equiv="Content-type" content="text/html;charset=iso-8859-1">
	<link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mysqlpp</b></li><li class="navelem"><a class="el" href="classmysqlpp_1_1Transaction.html">Transaction</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmysqlpp_1_1Transaction-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mysqlpp::Transaction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper object for creating exception-safe SQL transactions.  
 <a href="classmysqlpp_1_1Transaction.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="transaction_8h_source.html">transaction.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a91d16b4539a969fb632ee672999cdd1f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1f">IsolationLevel</a> { <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa3932f25965a310d79e396f8f749f3d17">read_uncommitted</a>, 
<a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa82065aaf4094dab18b48d8e973d4ef4f">read_committed</a>, 
<a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa6a5934315b282de9c0f4037297c6f93a">repeatable_read</a>, 
<a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa6479eabcb53fb2d5b2ade3b254f0fd61">serializable</a>
 }</td></tr>
<tr class="memdesc:a91d16b4539a969fb632ee672999cdd1f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classmysqlpp_1_1Transaction.html" title="Helper object for creating exception-safe SQL transactions. ">Transaction</a> isolation levels defined in SQL.  <a href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1f">More...</a><br/></td></tr>
<tr class="separator:a91d16b4539a969fb632ee672999cdd1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933f0528d41cea97732d9e70e232612c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612c">IsolationScope</a> { <a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612caf73085a07470c23fcdf8c9792cf4839d">this_transaction</a>, 
<a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612caaa607cae58b78192121c1e1e96111298">session</a>, 
<a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612ca707b5ddb102ba887030eb7f15acfe80e">global</a>
 }</td></tr>
<tr class="memdesc:a933f0528d41cea97732d9e70e232612c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Isolation level scopes defined in SQL.  <a href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612c">More...</a><br/></td></tr>
<tr class="separator:a933f0528d41cea97732d9e70e232612c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5472100c371746d23311bbd74067c5dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a5472100c371746d23311bbd74067c5dc">Transaction</a> (<a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;conn, bool consistent=false)</td></tr>
<tr class="memdesc:a5472100c371746d23311bbd74067c5dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple constructor.  <a href="#a5472100c371746d23311bbd74067c5dc">More...</a><br/></td></tr>
<tr class="separator:a5472100c371746d23311bbd74067c5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa83ef7b66a4c62fbc012f7ce71e6b2a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#aa83ef7b66a4c62fbc012f7ce71e6b2a5">Transaction</a> (<a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;conn, <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1f">IsolationLevel</a> level, <a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612c">IsolationScope</a> scope=<a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612caf73085a07470c23fcdf8c9792cf4839d">this_transaction</a>, bool consistent=false)</td></tr>
<tr class="memdesc:aa83ef7b66a4c62fbc012f7ce71e6b2a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor allowing custom transaction isolation level and scope.  <a href="#aa83ef7b66a4c62fbc012f7ce71e6b2a5">More...</a><br/></td></tr>
<tr class="separator:aa83ef7b66a4c62fbc012f7ce71e6b2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362b0d2524d0c799165190517192dca9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a362b0d2524d0c799165190517192dca9">~Transaction</a> ()</td></tr>
<tr class="memdesc:a362b0d2524d0c799165190517192dca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a362b0d2524d0c799165190517192dca9">More...</a><br/></td></tr>
<tr class="separator:a362b0d2524d0c799165190517192dca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109bd0f1d70b6ff69cf3abccf7eea8f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a109bd0f1d70b6ff69cf3abccf7eea8f8">commit</a> ()</td></tr>
<tr class="memdesc:a109bd0f1d70b6ff69cf3abccf7eea8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits the transaction.  <a href="#a109bd0f1d70b6ff69cf3abccf7eea8f8">More...</a><br/></td></tr>
<tr class="separator:a109bd0f1d70b6ff69cf3abccf7eea8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a000e4f0882139eb8470f7472ca14a24e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#a000e4f0882139eb8470f7472ca14a24e">rollback</a> ()</td></tr>
<tr class="memdesc:a000e4f0882139eb8470f7472ca14a24e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rolls back the transaction.  <a href="#a000e4f0882139eb8470f7472ca14a24e">More...</a><br/></td></tr>
<tr class="separator:a000e4f0882139eb8470f7472ca14a24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper object for creating exception-safe SQL transactions. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a91d16b4539a969fb632ee672999cdd1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1f">mysqlpp::Transaction::IsolationLevel</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classmysqlpp_1_1Transaction.html" title="Helper object for creating exception-safe SQL transactions. ">Transaction</a> isolation levels defined in SQL. </p>
<p>These values can be passed to one of the <a class="el" href="classmysqlpp_1_1Transaction.html" title="Helper object for creating exception-safe SQL transactions. ">Transaction</a> constructors to change the way the database engine protects transactions from other DB updates. These values are in order of increasing isolation, but decreasing performance. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a91d16b4539a969fb632ee672999cdd1fa3932f25965a310d79e396f8f749f3d17"></a>read_uncommitted</em>&nbsp;</td><td class="fielddoc">
<p>allow "dirty reads" from other transactions </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a91d16b4539a969fb632ee672999cdd1fa82065aaf4094dab18b48d8e973d4ef4f"></a>read_committed</em>&nbsp;</td><td class="fielddoc">
<p>only read rows committed by other transactions </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a91d16b4539a969fb632ee672999cdd1fa6a5934315b282de9c0f4037297c6f93a"></a>repeatable_read</em>&nbsp;</td><td class="fielddoc">
<p>other transactions do not affect repeated reads in this transaction </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a91d16b4539a969fb632ee672999cdd1fa6479eabcb53fb2d5b2ade3b254f0fd61"></a>serializable</em>&nbsp;</td><td class="fielddoc">
<p>this transaction prevents writes to any rows it accesses while it runs </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="a933f0528d41cea97732d9e70e232612c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612c">mysqlpp::Transaction::IsolationScope</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Isolation level scopes defined in SQL. </p>
<p>These values are only used with one of the <a class="el" href="classmysqlpp_1_1Transaction.html" title="Helper object for creating exception-safe SQL transactions. ">Transaction</a> constructors, to select which transaction(s) our change to </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a933f0528d41cea97732d9e70e232612caf73085a07470c23fcdf8c9792cf4839d"></a>this_transaction</em>&nbsp;</td><td class="fielddoc">
<p>change level for this transaction only </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a933f0528d41cea97732d9e70e232612caaa607cae58b78192121c1e1e96111298"></a>session</em>&nbsp;</td><td class="fielddoc">
<p>change level for all transactions in this session </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a933f0528d41cea97732d9e70e232612ca707b5ddb102ba887030eb7f15acfe80e"></a>global</em>&nbsp;</td><td class="fielddoc">
<p>change level for all transactions on the DB server </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5472100c371746d23311bbd74067c5dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction::Transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>consistent</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection we use to manage the transaction set </td></tr>
    <tr><td class="paramname">consistent</td><td>Whether to use "consistent snapshots" during the transaction. See the documentation for "START TRANSACTION" in the MySQL manual for more on this. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classmysqlpp_1_1Query.html#a03ee1b9e393d88de946f5be804ea88cf">mysqlpp::Query::execute()</a>, and <a class="el" href="classmysqlpp_1_1Connection.html#a6954d437d52004915fbc96a0be79ab37">mysqlpp::Connection::query()</a>.</p>

</div>
</div>
<a class="anchor" id="aa83ef7b66a4c62fbc012f7ce71e6b2a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction::Transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1f">IsolationLevel</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612c">IsolationScope</a>&#160;</td>
          <td class="paramname"><em>scope</em> = <code><a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612caf73085a07470c23fcdf8c9792cf4839d">this_transaction</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>consistent</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor allowing custom transaction isolation level and scope. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection we use to manage the transaction set </td></tr>
    <tr><td class="paramname">level</td><td>Isolation level to use for this transaction </td></tr>
    <tr><td class="paramname">scope</td><td>Selects the scope of the isolation level change </td></tr>
    <tr><td class="paramname">consistent</td><td>Whether to use "consistent snapshots" during the transaction. See the documentation for "START TRANSACTION" in the MySQL manual for more on this. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612ca707b5ddb102ba887030eb7f15acfe80e">global</a>, <a class="el" href="classmysqlpp_1_1Connection.html#a6954d437d52004915fbc96a0be79ab37">mysqlpp::Connection::query()</a>, <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa82065aaf4094dab18b48d8e973d4ef4f">read_committed</a>, <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa3932f25965a310d79e396f8f749f3d17">read_uncommitted</a>, <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa6a5934315b282de9c0f4037297c6f93a">repeatable_read</a>, <a class="el" href="classmysqlpp_1_1Transaction.html#a91d16b4539a969fb632ee672999cdd1fa6479eabcb53fb2d5b2ade3b254f0fd61">serializable</a>, and <a class="el" href="classmysqlpp_1_1Transaction.html#a933f0528d41cea97732d9e70e232612caaa607cae58b78192121c1e1e96111298">session</a>.</p>

</div>
</div>
<a class="anchor" id="a362b0d2524d0c799165190517192dca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction::~Transaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>If the transaction has not been committed or rolled back by the time the destructor is called, it is rolled back. This is the right thing because one way this can happen is if the object is being destroyed as the stack is unwound to handle an exception. In that instance, you certainly want to roll back the transaction. </p>

<p>References <a class="el" href="classmysqlpp_1_1Transaction.html#a000e4f0882139eb8470f7472ca14a24e">rollback()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a109bd0f1d70b6ff69cf3abccf7eea8f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits the transaction. </p>
<p>This commits all updates to the database using the connection we were created with since this object was created. This is a no-op if the table isn't stored using a transaction-aware storage engine. See CREATE TABLE in the MySQL manual for details. </p>

<p>References <a class="el" href="classmysqlpp_1_1Query.html#a03ee1b9e393d88de946f5be804ea88cf">mysqlpp::Query::execute()</a>, and <a class="el" href="classmysqlpp_1_1Connection.html#a6954d437d52004915fbc96a0be79ab37">mysqlpp::Connection::query()</a>.</p>

</div>
</div>
<a class="anchor" id="a000e4f0882139eb8470f7472ca14a24e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rolls back the transaction. </p>
<p>This abandons all SQL statements made on the connection since this object was created. This only works on tables stored using a transaction-aware storage engine. See CREATE TABLE in the MySQL manual for details. </p>

<p>References <a class="el" href="classmysqlpp_1_1Query.html#a03ee1b9e393d88de946f5be804ea88cf">mysqlpp::Query::execute()</a>, and <a class="el" href="classmysqlpp_1_1Connection.html#a6954d437d52004915fbc96a0be79ab37">mysqlpp::Connection::query()</a>.</p>

<p>Referenced by <a class="el" href="classmysqlpp_1_1Transaction.html#a362b0d2524d0c799165190517192dca9">~Transaction()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="transaction_8h_source.html">transaction.h</a></li>
<li>transaction.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 18 2015 18:55:03 for MySQL++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
